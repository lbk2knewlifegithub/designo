<form
  [formGroup]="form"
  (ngSubmit)="onSubmit()"
  class="relative bg-white rounded-xl p-6 pt-20 shadow-sm md:pt-12 md:w-[540px]"
>
  <!-- Avatar -->
  <lbk-avatar-input
    [disabled]="!isOwned"
    #avatarInput
    [avatarSrc]="user | avatar"
    class="shadown-lg absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 z-50"
  ></lbk-avatar-input>
  <!-- end Avatar -->

  <!-- Title -->
  <h1 class="text-[2rem] text-neutral-300 font-bold mb-6">Profile</h1>
  <!-- end Title -->

  <!-- Alert Area -->
  <!-- <lbk-alert *ngIf="!user.email && !user.verified" class="error">
    You don't have an email yet.
  </lbk-alert>

  <div
    *ngIf="user.email && !user.verified && !form.get('email')?.dirty"
    class="flex items-center w-full gap-2"
  >
    <lbk-alert class="warning grow"> Please verify your email. </lbk-alert>

    <lbk-spinner [radius]="30" [loading]="(pending$ | async)!">
      <lbk-verify-button (click)="verifyButtonClick()"></lbk-verify-button>
    </lbk-spinner>
  </div> -->
  <!-- end Alert Area -->

  <div class="grid gap-3 mt-4">
    <div class="flex flex-col sm:flex-row sm:gap-6">
      <!-- FirstName -->
      <lbk-input
        [parent]="form"
        label="First Name"
        controlName="firstname"
      ></lbk-input>
      <!-- end FirstName -->

      <!-- LastName -->
      <lbk-input
        [parent]="form"
        label="Last Name"
        controlName="lastname"
      ></lbk-input>
      <!-- end end LastName -->
    </div>

    <!-- Username -->
    <lbk-input
      [parent]="form"
      controlName="username"
      inputType="username"
      label="Username"
    >
    </lbk-input>
    <!-- end Username -->

    <!-- Email -->
    <!-- <lbk-input
      [parent]="form"
      controlName="email"
      inputType="email"
      label="Email"
    >
      <span *ngIf="emailExists" class="error">
        Email already <strong>exists</strong>
      </span>
    </lbk-input> -->
    <!-- end end Email -->

    <!-- Change Password -->
    <div *ngIf="isOwned">
      <button
        (click)="changePassword.emit()"
        type="button"
        class="btn btn-ghost-primary"
      >
        Change password
      </button>
    </div>
    <!-- end Change Password -->
  </div>

  <!-- User Form Actions -->

  <lbk-spinner
    [ngClass]="{ 'mt-8 flex justify-center': pending$ | async }"
    [loading]="(pending$ | async)!"
  >
    <ul class="flex flex-col gap-4 md:flex-row md:justify-between mt-8">
      <!--        Save Changes User Button-->
      <li>
        <button class="btn btn-accent w-full md:w-auto md:px-6">
          Save Changes
        </button>
      </li>
      <!--        end Save Changes User Button-->

      <!--        Cancel Edit User Button-->
      <li class="md:order-first">
        <button
          [disabled]="!form.dirty"
          type="button"
          (click)="cancel()"
          class="btn btn-neutral w-full md:w-auto md:px-6"
        >
          Cancel
        </button>
      </li>
      <!--        end Cancel Edit User Button-->
    </ul>
    <!-- end User Form Actions -->
  </lbk-spinner>
</form>
